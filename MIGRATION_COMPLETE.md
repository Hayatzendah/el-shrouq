# โ ุงูุชูุงู ุงูุชุญููู ูู Firebase ุฅูู PHP/MySQL

## ๐ ุชู ุจูุฌุงุญ!

ุชู ุชุญููู ุงููุดุฑูุน ุจุงููุงูู ูู Firebase ุฅูู PHP + MySQL. ุงูุขู ูููู ุฑูุนู ูุจุงุดุฑุฉ ุนูู Hostinger!

---

## ๐ ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### โ ุชูุช ุฅุฒุงูุฉ Firebase ุจุงููุงูู
- โ ุญุฐู `firebase` ูู dependencies
- โ ุญุฐู ุฌููุน ูููุงุช Firebase:
  - `lib/firebaseClient.ts`
  - `lib/firestore.ts`
  - `lib/storage.ts`
  - `lib/auth.ts`

### โ ุฅุถุงูุฉ PHP Backend
```
api/
โโโ config/
โ   โโโ database.php          # ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ cors.php              # ุฅุนุฏุงุฏุงุช CORS
โโโ products/
โ   โโโ read.php              # ุฌูุจ ูู ุงูููุชุฌุงุช
โ   โโโ read_single.php       # ุฌูุจ ููุชุฌ ูุงุญุฏ
โ   โโโ create.php            # ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ โจ NEW
โ   โโโ update.php            # ุชุญุฏูุซ ููุชุฌ โจ NEW
โ   โโโ delete.php            # ุญุฐู ููุชุฌ โจ NEW
โโโ categories/
โ   โโโ read.php              # ุฌูุจ ุงููุฆุงุช
โโโ seasons/
โ   โโโ read.php              # ุฌูุจ ุงูููุงุณู
โโโ upload/
    โโโ image.php             # ุฑูุน ุงูุตูุฑ โจ NEW
```

### โ ุชุญุฏูุซ ููุญุฉ ุงูุชุญูู
- ููุญุฉ ุงูุชุญูู Next.js (`/admin`) ุงูุขู ุชุณุชุฎุฏู PHP API
- ุฌููุน ุนูููุงุช CRUD ุชุนูู ุจููุณ ุงูุดูู ุงูุณุงุจู
- ููุณ ุงููุงุฌูุฉุ backend ูุฎุชูู!

---

## ๐ ุฎุทูุงุช ุงูุฑูุน ุนูู Hostinger

### 1๏ธโฃ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช MySQL

1. ุงูุชุญ **cPanel** โ **phpMyAdmin**
2. ุฃูุดุฆ ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ
3. ุงุณุชูุฑุฏ `database/schema.sql`

### 2๏ธโฃ ุชูููู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงูุชุญ `api/config/database.php`:

```php
private $host = "localhost";
private $db_name = "u123456_el_shrouq";     // ูู Hostinger
private $username = "u123456_dbuser";       // ูู Hostinger
private $password = "your_password_here";   // ูู Hostinger
```

### 3๏ธโฃ ุฑูุน ุงููููุงุช

ุงุฑูุน ุงููุดุฑูุน ูุงููุงู ุฅูู `public_html/`

```
public_html/
โโโ api/                  # PHP API
โโโ admin-panel/          # ููุญุฉ PHP (ุงุฎุชูุงุฑู)
โโโ database/             # SQL schema
โโโ app/                  # Next.js app
โโโ lib/
โโโ components/
โโโ ... (ูููุงุช Next.js ุงูุฃุฎุฑู)
```

### 4๏ธโฃ ุชูููู Next.js

ุฃูุดุฆ `.env.local`:

```bash
# ุงุณุชุจุฏู ุจุงูุฏูููู ุงูุฎุงุต ุจู
NEXT_PUBLIC_API_URL=https://yourdomain.com/api
```

### 5๏ธโฃ Build ูุฑูุน Next.js

```bash
npm install
npm run build
```

ุซู ุงุฑูุน ุงููุดุฑูุน ุจุฅุญุฏู ุงูุทุฑู:
- **GitHub**: ุงุฑุจุท repo ูุน Hostinger Node.js Web App
- **ZIP**: ุงุฑูุน `.next` ู `public` ู `package.json` ู ูููุงุช ุฃุฎุฑู

---

## ๐ฏ API Endpoints ุงููุชุงุญุฉ

### ุงูููุชุฌุงุช

| Method | Endpoint | ุงููุตู |
|--------|----------|-------|
| GET | `/api/products/read.php` | ุฌูุจ ุฌููุน ุงูููุชุฌุงุช |
| GET | `/api/products/read_single.php?slug=X` | ุฌูุจ ููุชุฌ ูุงุญุฏ |
| POST | `/api/products/create.php` | ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ |
| PUT | `/api/products/update.php` | ุชุญุฏูุซ ููุชุฌ |
| DELETE | `/api/products/delete.php?id=X` | ุญุฐู ููุชุฌ |

### ุงููุฆุงุช ูุงูููุงุณู

| Method | Endpoint | ุงููุตู |
|--------|----------|-------|
| GET | `/api/categories/read.php` | ุฌูุจ ุฌููุน ุงููุฆุงุช |
| GET | `/api/seasons/read.php` | ุฌูุจ ุฌููุน ุงูููุงุณู |

### ุงูุตูุฑ

| Method | Endpoint | ุงููุตู |
|--------|----------|-------|
| POST | `/api/upload/image.php` | ุฑูุน ุตูุฑุฉ (multipart/form-data) |

---

## ๐จ ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู

### ุงูุทุฑููุฉ 1: Next.js Admin Panel (ููุตู ุจูุง)

```
https://yourdomain.com/admin
```

- ููุณ ููุญุฉ ุงูุชุญูู ุงูุชู ูุงูุช ุชุณุชุฎุฏู Firebase
- ุงูุขู ุชุณุชุฎุฏู PHP API
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูููุชุฌุงุช
- ุฅุฏุงุฑุฉ ุงููุฆุงุช ูุงูููุงุณู

### ุงูุทุฑููุฉ 2: PHP Admin Panel (ุจุณูุทุฉ)

```
https://yourdomain.com/admin-panel
```

- ููุญุฉ ุชุญูู ุจุณูุทุฉ ุจู PHP
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
- ุฑูุงุจุท ุณุฑูุนุฉ

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุชููุฑุฉ:

1. **products** - ุงูููุชุฌุงุช (ูุน ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช)
2. **categories** - ุงููุฆุงุช
3. **seasons** - ุงูููุงุณู
4. **product_seasons** - ุฑุจุท ุงูููุชุฌุงุช ุจุงูููุงุณู (many-to-many)
5. **admin_users** - ุงููุณุชุฎุฏููู ุงูุฅุฏุงุฑููู

### ุจูุงูุงุช ุชุฌุฑูุจูุฉ:

โ 5 ูุฆุงุช ุฌุงูุฒุฉ:
- Vegetables ๐ฅฌ
- Fruits ๐
- Citrus ๐
- Medicinal Plants ๐ฟ
- Frozen โ๏ธ

โ 5 ููุงุณู ุฌุงูุฒุฉ:
- Winter โ๏ธ
- Spring ๐ธ
- Summer โ๏ธ
- Autumn ๐
- All Year ๐

โ ูุณุชุฎุฏู ุฅุฏุงุฑู ุงูุชุฑุงุถู:
- Email: `admin@el-shrouq.com`
- Password: `admin123` โ๏ธ **ุบููุฑู ููุฑุงู!**

---

## ๐ง ูููุงุช ุงูุชูููู ุงููููุฉ

### `lib/phpApi.ts`
Client ููุชุนุงูู ูุน PHP API. ูููุฑ ููุณ ูุงุฌูุฉ Firebase ุงููุฏููุฉ:

```typescript
import { getProducts, createProduct, updateProduct, deleteProduct } from '@/lib/phpApi';
```

### `api/config/database.php`
ุฅุนุฏุงุฏุงุช ุงุชุตุงู MySQL

### `api/config/cors.php`
ุฅุนุฏุงุฏุงุช CORS ููุณูุงุญ ุจุทูุจุงุช ูู Next.js

### `.env.local`
```bash
NEXT_PUBLIC_API_URL=https://yourdomain.com/api
```

---

## โจ ุงูููุฒุงุช

โ **CRUD ูุงูู** - ุฅูุดุงุกุ ูุฑุงุกุฉุ ุชุญุฏูุซุ ุญุฐู
โ **ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช** - EN/FR
โ **ุฑูุน ุงูุตูุฑ** - ูุน ุงูุชุญูู ูู ุงูููุน ูุงูุญุฌู
โ **ููุญุฉ ุชุญูู** - Next.js admin panel
โ **ุจูุงูุงุช ุชุฌุฑูุจูุฉ** - ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
โ **ุขูู** - PDO prepared statements
โ **ุณุฑูุน** - Optimized queries

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "Connection error"
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช `api/config/database.php`
- ุชุฃูุฏ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ
- ุชุญูู ูู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ

### ุฎุทุฃ: "CORS error"
- ุชุฃูุฏ ุฃู `api/config/cors.php` ูุณูุญ ุจุงูุฏูููู ุงูุฎุงุต ุจู
- ุฃู ุบููุฑ `Access-Control-Allow-Origin: *` ุฅูู ุฏูููู ูุญุฏุฏ

### ุฎุทุฃ: "Failed to upload image"
- ุชุญูู ูู ุตูุงุญูุงุช ูุฌูุฏ `uploads/`
- ูุฌุจ ุฃู ูููู `chmod 755` ุฃู `777`

### ุฎุทุฃ: "API request failed"
- ุงูุชุญ Console ูู ุงููุชุตูุญ
- ุชุญูู ูู `NEXT_PUBLIC_API_URL` ูู `.env.local`
- ุชุฃูุฏ ุฃู PHP API ูุนูู ุจูุชุญ ุงูุฑุงุจุท ูุจุงุดุฑุฉ

---

## ๐ ูููุฒูุฏ ูู ุงููุนูููุงุช

ุฑุงุฌุน:
- [PHP_DEPLOYMENT_GUIDE.md](PHP_DEPLOYMENT_GUIDE.md) - ุฏููู ุงูุฑูุน ุงููุงูู
- [database/schema.sql](database/schema.sql) - ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ุฑูุน ุงููุดุฑูุน ุนูู Hostinger
2. โ ุชูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โ ุชุญุฏูุซ `.env.local`
4. โ ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู
5. โ ุฅุถุงูุฉ ุงูููุชุฌุงุช ุงูุญููููุฉ
6. ๐ ุฅุทูุงู ุงููููุน!

---

**ุชู ุงูุชุญููู ุจูุงุณุทุฉ Claude Code ๐ค**
